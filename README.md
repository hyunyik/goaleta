# 누적 목표 예측기 (GoalETA)

현재 진행 속도를 기반으로 목표 완료까지의 예상 시간을 계산하고 추적하는 Flutter 앱입니다.

## 📱 주요 기능

### 1. **목표 관리**
- ✅ 목표 생성: 제목, 단위(페이지/분/개/세트), 총량, 시작일, 시작량 설정
- ✅ 목표 수정 및 삭제
- ✅ 카테고리 분류: 읽기, 공부, 운동, 쓰기, 연습, 기타
- ✅ 주말 제외 옵션: 평일만 계산하여 더 정확한 ETA 제공
- ✅ 마감일 설정: 목표 달성 기한 지정 및 초과 알림
- ✅ 시작량 설정: 이미 진행 중인 목표 중간부터 추적 가능

### 2. **일일 기록**
- ✅ 매일 달성량 기록
- ✅ 기록 추가/수정/삭제
- ✅ 메모 추가 가능
- ✅ 날짜별 기록 관리

### 3. **ETA 계산**
- ✅ **단순 평균 ETA**: 시작일부터 누적된 진행률을 기반으로 계산
- ✅ 예상 완료일 표시
- ✅ 남은 일수 표시
- ✅ 일평균 진행량 표시
- ✅ 마감일 대비 초과 일수 계산 및 경고

### 4. **진행 상황 시각화**
- ✅ 진행률 표시 (%)
- ✅ 최근 14일 막대 그래프
- ✅ 목표 리스트에서 한눈에 ETA 확인
- ✅ 애니메이션 고양이: 진행률에 따라 움직이며 응원 메시지 제공

### 5. **목표 완료 및 보관**
- ✅ 목표 달성 시 축하 다이얼로그
- ✅ 완료된 목표 아카이브 관리
- ✅ 아카이브 통계: 월별, 연도별, 카테고리별 집계
- ✅ 완료 목표 복원 및 재시작 기능

### 6. **스마트 필터 및 정렬**
- ✅ 카테고리별 필터링
- ✅ 다양한 정렬 옵션: 생성일, 진행률, 마감일, 초과일 기준
- ✅ 실시간 통계: 진행 중 목표 개수, 평균 진행률, 오늘 완료 목표 등

### 7. **알림 기능**
- ✅ 일일 알림 설정: 사용자 지정 시간에 목표 확인 알림
- ✅ 알림 시간 커스터마이징
- ✅ 알림 on/off 토글

### 8. **데이터 관리**
- ✅ 백업/복원: JSON 형식으로 모든 목표 데이터 내보내기/가져오기
- ✅ 데이터 초기화: 전체 데이터 삭제 옵션
- ✅ Hive 로컬 저장소: 영속성 데이터 저장

## 🎨 UI/UX 설계 (Material 3)

### 화면 구성

#### **(A) Home Screen - 목표 리스트**
- 모든 목표를 카드 형태로 표시
- 각 카드에는:
  - 카테고리 아이콘 및 색상
  - 제목
  - 진행률 바 및 백분율
  - 애니메이션 고양이 (진행률 기반 응원 메시지)
  - 남은 양 강조 표시
  - 예상 완료일(ETA) 또는 남은 일수
  - 마감일 초과 경고 (해당 시)
- 상단 헤더:
  - 시간대별 인사말 메시지
  - 실시간 통계 (진행 중 목표, 평균 진행률, 오늘 완료 목표)
- 필터 및 정렬:
  - 카테고리 필터 칩
  - 다양한 정렬 옵션 (생성일, 진행률, 마감일, 초과일)
- FAB로 새 목표 추가
- 빈 상태(Empty state) 안내 메시지

#### **(B) Goal Detail Screen - 상세 정보**
- **상단**: 
  - 카테고리 및 제목
  - 남은 양 (큰 숫자)
  - ETA 정보 및 마감일 비교
- **중단**: 
  - 진행 상황 (진행률 바, 백분율, 완료량/총량)
  - 일평균 진행량
  - 애니메이션 고양이 위젯
  - 최근 14일 기록 차트
- **하단**: 
  - 전체 기록 리스트 (날짜, 값, 메모)
  - 기록 추가/수정/삭제
- 상단 메뉴:
  - 목표 수정
  - 목표 삭제
  - 목표 아카이브

#### **(C) Add/Edit Goal Sheet**
- Bottom Sheet로 간단한 입력 흐름
- 필드:
  - 목표 제목
  - 카테고리 선택 (읽기, 공부, 운동, 쓰기, 연습, 기타)
  - 단위 및 총량 (같은 줄)
  - 시작량 (이미 진행한 양)
  - 시작일 (날짜 선택)
  - 마감일 (선택 사항)
  - 주말 제외 토글

#### **(D) Add Log Sheet**
- 일일 기록 추가/수정
- 필드:
  - 값 입력
  - 날짜 선택
  - 메모 (선택사항)

#### **(E) Archives Screen - 완료 목표 관리**
- 아카이브된 목표 리스트
- 통계 요약:
  - 이번 달 완료 목표
  - 올해 완료 목표
  - 월별 완료 추이
  - 카테고리별 분포
- 목표 상세 보기
- 목표 복원 기능
- 목표 영구 삭제

#### **(F) Settings Screen - 설정**
- 알림 설정:
  - 일일 알림 on/off
  - 알림 시간 설정
- 데이터 관리:
  - 백업 (JSON 내보내기)
  - 복원 (JSON 가져오기)
  - 전체 데이터 초기화
- 앱 정보 및 버전

### Material 3 디자인 시스템

#### **색상 팔레트**
- **Primary Color**: #6200EE (보라색)
- **Dynamic Color**: Android 12+ 이상에서 자동으로 OS 팔레트 반영
- **밝은 모드 / 어두운 모드** 완벽 지원

#### **타이포그래피**
- **제목/ETA**: `headlineSmall`, `titleMedium`, `titleSmall`
- **본문**: `bodyLarge`, `bodyMedium`, `bodySmall`
- **라벨**: `labelSmall`

#### **레이아웃 & 컴포넌트**
- **격자**: 8dp 기반
- **카드**: `shape.medium` (12dp radius)
- **BottomSheet**: 12dp 상단 라운딩
- **Progress**: `LinearProgressIndicator`
- **Interaction**: 
  - 부드러운 전환 애니메이션
  - 플로팅 SnackBar
  - Modal BottomSheet

## 📂 프로젝트 구조

```
lib/
├── main.dart                          # 앱 진입점, Material 3 테마 설정
├── models/
│   └── goal.dart                      # Goal, LogEntry 모델, GoalCategory enum
├── providers/
│   └── goal_provider.dart             # Riverpod 상태 관리, Hive 영속성 저장소
├── screens/
│   ├── home_screen.dart               # 목표 리스트 화면 (필터, 정렬, 통계)
│   ├── goal_detail_screen.dart        # 목표 상세 화면
│   ├── archives_screen.dart           # 완료 목표 아카이브 화면
│   └── settings_screen.dart           # 설정 화면 (알림, 백업/복원)
├── services/
│   └── notification_service.dart      # 일일 알림 서비스
├── utils/
│   └── eta_calculator.dart            # ETA 계산 로직
└── widgets/
    ├── goal_card.dart                 # 목표 카드 위젯
    ├── add_edit_goal_sheet.dart       # 목표 추가/수정 BottomSheet
    ├── add_log_sheet.dart             # 기록 추가/수정 BottomSheet
    ├── congratulations_dialog.dart    # 목표 완료 축하 다이얼로그
    ├── custom_date_picker.dart        # 커스텀 날짜 선택기
    └── running_cat.dart               # 애니메이션 고양이 위젯
```

## 🛠 기술 스택

### 프레임워크 & 라이브러리
- **Flutter 3.0+**: 크로스 플랫폼 UI 프레임워크
- **Dart 3.0+**: 프로그래밍 언어
- **Material 3**: Google의 최신 디자인 시스템

### 상태 관리
- **flutter_riverpod**: 의존성 주입 및 상태 관리
- **StateNotifier**: 상태 변화 처리

### 데이터 & 저장소
- **Hive**: NoSQL 로컬 데이터베이스 (영속성 저장)
- **hive_flutter**: Flutter용 Hive 통합
- **UUID**: 고유 ID 생성

### 알림 & 권한
- **flutter_local_notifications**: 로컬 푸시 알림
- **timezone**: 시간대 기반 알림 스케줄링
- **permission_handler**: 알림 권한 관리

### 파일 & 경로
- **file_picker**: 백업 파일 가져오기
- **path_provider**: 앱 디렉토리 접근

### 국제화 & 날짜/시간
- **intl**: 국제화 및 날짜 포매팅 (한국어 지원)
- **flutter_localizations**: Flutter 기본 국제화

### UI/UX
- **google_fonts**: 커스텀 폰트
- **animations**: Material Design 전환 애니메이션
- **flutter_svg**: SVG 이미지 지원

## 🚀 시작하기

### 필수 요구사항
- Flutter 3.0 이상
- Dart 3.0 이상

### 설치 및 실행

```bash
# 의존성 설치
flutter pub get

# 앱 실행
flutter run

# 릴리스 빌드
flutter build apk  # Android
flutter build ios  # iOS
```

## 📊 ETA 계산 로직

### 단순 평균 (Simple Average)

```
일일 평균 = 누적 완료량 / 경과 일수
남은 일수 = (총량 - 누적 완료량) / 일일 평균
예상 완료일 = 오늘 + 남은 일수
```

**예시:**
- 총량: 500 페이지
- 시작일: 2026년 1월 1일
- 시작량: 50 페이지
- 오늘: 2026년 1월 15일 (15일 경과)
- 누적 완료: 100 페이지
- 실제 진행량: 100 - 50 = 50 페이지
- 일일 평균: 50 / 15 ≈ 3.3 페이지
- 남은 량: 500 - 100 = 400 페이지
- 남은 일수: 400 / 3.3 ≈ 121일
- 예상 완료일: 2026년 5월 16일

### 주말 제외 옵션

주말 제외가 활성화된 경우:
- 경과 일수 계산 시 주말(토, 일) 제외
- 더 정확한 평일 기준 일평균 계산
- 예상 완료일 계산 시 주말 건너뛰기

### 마감일 비교

마감일이 설정된 경우:
- ETA와 마감일 비교하여 초과 일수 계산
- 초과 시 경고 표시 (빨간색)
- 정렬 시 초과일 기준 정렬 가능

## 🎯 로드맵

### ✅ Version 1.0 (현재)
- ✅ 목표 CRUD (생성, 읽기, 수정, 삭제)
- ✅ 기록 CRUD
- ✅ 단순 평균 ETA 계산
- ✅ Material 3 UI
- ✅ 최근 14일 차트
- ✅ 카테고리 시스템 (6가지)
- ✅ 필터 및 정렬 기능
- ✅ 마감일 설정 및 초과 경고
- ✅ 시작량 설정
- ✅ 주말 제외 옵션
- ✅ 애니메이션 고양이 위젯
- ✅ 목표 완료 축하 다이얼로그
- ✅ 아카이브 시스템 및 통계
- ✅ Hive 영속성 저장소
- ✅ 일일 알림 기능
- ✅ 백업/복원 (JSON)
- ✅ 다크 모드 지원
- ✅ 한국어 국제화

### 🔄 Version 1.1 (향후)
- 🔄 가중 평균 ETA 알고리즘 (최근 데이터 가중치)
- 🔄 더 고급스러운 차트 (fl_chart)
- 🔄 홈 위젯 지원
- 🔄 주간/월간 리포트
- 🔄 목표 템플릿 기능
- 🔄 색상 커스터마이징

### 🔄 Version 2.0 (장기)
- 🔄 클라우드 동기화 (Firebase)
- 🔄 소셜 공유
- 🔄 통계 및 분석 대시보드
- 🔄 다중 기기 동기화
- 🔄 팀/그룹 목표 공유
- 🔄 AI 기반 목표 추천

## 🐛 알려진 문제

현재 알려진 주요 문제는 없습니다. 이슈가 발견되면 GitHub Issues에 제보해 주세요.

## 🎨 스크린샷

> 추후 추가 예정

## 📝 라이선스

이 프로젝트는 MIT 라이선스 하에 배포됩니다.

## 👤 작성자

**GoalETA 팀**

---

**Made with ❤️ using Flutter & Material 3**
